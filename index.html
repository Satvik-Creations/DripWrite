<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DripWrite - AI Content Writer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000000;
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #ff4757;
        }

        .cta-button {
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            box-shadow: 0 0 20px rgba(255, 71, 87, 0.5);
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            padding: 4rem 0;
            text-align: center;
            background: radial-gradient(circle at center, rgba(255, 71, 87, 0.1) 0%, transparent 70%);
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #ffffff, #cccccc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.2rem;
            color: #cccccc;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Tools Grid */
        .tools-section {
            padding: 4rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 3rem;
            color: #ffffff;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 2rem;
            transition: all 0.3s ease;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .tool-card:hover {
            border-color: #ff4757;
            box-shadow: 0 0 30px rgba(255, 71, 87, 0.2);
            transform: translateY(-5px);
        }

        .tool-card.active {
            border-color: #ff4757;
            box-shadow: 0 0 30px rgba(255, 71, 87, 0.3);
        }

        .tool-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .tool-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: #ffffff;
        }

        .tool-card p {
            color: #cccccc;
            font-size: 0.9rem;
        }

        /* Generator Section */
        .generator-section {
            padding: 2rem 0;
            margin-top: 2rem;
        }

        .generator-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(10px);
        }

        .generator-form {
            display: grid;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-weight: 600;
            color: #ffffff;
            font-size: 0.9rem;
        }

        .form-input, .form-textarea, .form-select {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 1rem;
            color: #ffffff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #ff4757;
            box-shadow: 0 0 20px rgba(255, 71, 87, 0.2);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-select option {
            background: #1a1a1a;
            color: #ffffff;
        }

        .generate-button {
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .generate-button:hover {
            box-shadow: 0 0 30px rgba(255, 71, 87, 0.6);
            transform: translateY(-2px);
        }

        .generate-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid #ffffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Results Section */
        .results-section {
            margin-top: 2rem;
            display: none;
        }

        .results-container {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(10px);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .results-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffffff;
        }

        .results-actions {
            display: flex;
            gap: 1rem;
        }

        .action-button {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .action-button:hover {
            border-color: #ff4757;
            box-shadow: 0 0 15px rgba(255, 71, 87, 0.3);
        }

        .generated-content {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            color: #ffffff;
            line-height: 1.8;
            white-space: pre-wrap;
            font-size: 1rem;
        }

        /* Error Message */
        .error-message {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid #ff4757;
            border-radius: 8px;
            padding: 1rem;
            color: #ff4757;
            margin-top: 1rem;
            display: none;
        }

        /* API Key Notice */
        .api-notice {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            color: #ffc107;
            margin-bottom: 1rem;
        }

        /* Success Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.5s ease-out;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .tools-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .tool-card {
                padding: 1.5rem;
            }

            .generator-container {
                padding: 1.5rem;
            }

            .results-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .results-actions {
                width: 100%;
                justify-content: flex-start;
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">DripWrite - AI Content Writer</div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Create High-Quality Content with AI</h1>
            <p>Generate blog posts, social media content, emails, and more with our powerful AI writing assistant. Save time and boost your productivity.</p>
            <a href="#tools" class="cta-button">Start Writing Now</a>
        </div>
    </section>

    <!-- Tools Section -->
    <section class="tools-section" id="tools">
        <div class="container">
            <h2 class="section-title">Choose Your Writing Tool</h2>
            <div class="tools-grid">
                <div class="tool-card" data-tool="blog-post">
                    <div class="tool-icon">📝</div>
                    <h3>Blog Post Writer</h3>
                    <p>Create engaging and SEO-optimized blog posts on any topic</p>
                </div>
                <div class="tool-card" data-tool="social-media">
                    <div class="tool-icon">📱</div>
                    <h3>Social Media Posts</h3>
                    <p>Generate catchy social media content for all platforms</p>
                </div>
                <div class="tool-card" data-tool="email">
                    <div class="tool-icon">📧</div>
                    <h3>Email Writer</h3>
                    <p>Craft professional emails and newsletters that convert</p>
                </div>
                <div class="tool-card" data-tool="product-description">
                    <div class="tool-icon">🛍️</div>
                    <h3>Product Descriptions</h3>
                    <p>Write compelling product descriptions that sell</p>
                </div>
                <div class="tool-card" data-tool="ad-copy">
                    <div class="tool-icon">🎯</div>
                    <h3>Ad Copy</h3>
                    <p>Create high-converting advertising copy for any platform</p>
                </div>
                <div class="tool-card" data-tool="creative-writing">
                    <div class="tool-icon">✍️</div>
                    <h3>Creative Writing</h3>
                    <p>Generate stories, poems, and creative content</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Generator Section -->
    <section class="generator-section" id="generator">
        <div class="container">
            <div class="generator-container">
                <div class="api-notice">
                </div>
                
                <form class="generator-form" id="contentForm">
                    <div class="form-group">
                        <label for="contentType">Content Type</label>
                        <select id="contentType" class="form-select" required>
                            <option value="">Select content type...</option>
                            <option value="blog-post">Blog Post</option>
                            <option value="social-media">Social Media Post</option>
                            <option value="email">Email</option>
                            <option value="product-description">Product Description</option>
                            <option value="ad-copy">Ad Copy</option>
                            <option value="creative-writing">Creative Writing</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="topic">Topic/Subject</label>
                        <input type="text" id="topic" class="form-input" placeholder="Enter your topic or subject..." required>
                    </div>

                    <div class="form-group">
                        <label for="tone">Tone</label>
                        <select id="tone" class="form-select">
                            <option value="professional">Professional</option>
                            <option value="casual">Casual</option>
                            <option value="friendly">Friendly</option>
                            <option value="formal">Formal</option>
                            <option value="creative">Creative</option>
                            <option value="persuasive">Persuasive</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="length">Content Length</label>
                        <select id="length" class="form-select">
                            <option value="short">Short (100-200 words)</option>
                            <option value="medium" selected>Medium (300-500 words)</option>
                            <option value="long">Long (600-1000 words)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="additionalInfo">Additional Information (Optional)</label>
                        <textarea id="additionalInfo" class="form-textarea" placeholder="Provide any additional context, keywords, or specific requirements..."></textarea>
                    </div>

                    <button type="submit" class="generate-button">
                        <div class="loading-spinner"></div>
                        <span class="button-text">Generate Content</span>
                    </button>
                </form>

                <div class="error-message" id="errorMessage"></div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="results-section" id="results">
        <div class="container">
            <div class="results-container">
                <div class="results-header">
                    <h3 class="results-title">Generated Content</h3>
                    <div class="results-actions">
                        <button class="action-button" onclick="copyToClipboard()">📋 Copy</button>
                        <button class="action-button" onclick="downloadContent()">💾 Download</button>
                        <button class="action-button" onclick="regenerateContent()">🔄 Regenerate</button>
                    </div>
                </div>
                <div class="generated-content" id="generatedContent"></div>
            </div>
        </div>
    </section>

    <script>
        // ============================================
        // CONFIGURATION
        // ============================================
        // Replace with your actual Gemini API key
        const GEMINI_API_KEY = 'AIzaSyAm5nUPpziHwXKGKGj17LSIQ_xzFJq1fy8';
        const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent';

        // ============================================
        // GLOBAL VARIABLES
        // ============================================
        let currentTool = '';
        let lastGeneratedContent = '';
        let lastFormData = {};

        // ============================================
        // DEMO CONTENT TEMPLATES
        // ============================================
        const demoContent = {
            'blog-post': {
                'The Benefits of Remote Work': `# The Benefits of Remote Work: A Complete Guide

Remote work has revolutionized the modern workplace, offering unprecedented flexibility and opportunities for both employees and employers. As we navigate the evolving landscape of work, understanding the advantages of remote work becomes increasingly important.

## Enhanced Work-Life Balance

One of the most significant benefits of remote work is the improved work-life balance it provides. Employees can better manage their personal and professional responsibilities, leading to reduced stress and increased job satisfaction.

## Increased Productivity

Studies have shown that remote workers often demonstrate higher productivity levels. Without office distractions and lengthy commutes, employees can focus more effectively on their tasks and deliver quality results.

## Cost Savings

Both employers and employees benefit from cost savings. Companies reduce overhead expenses for office space, utilities, and equipment, while workers save on commuting costs, work attire, and meals.

## Access to Global Talent

Remote work breaks down geographical barriers, allowing companies to hire the best talent regardless of location. This expanded talent pool leads to more diverse and skilled teams.

## Environmental Impact

By reducing commutes and office energy consumption, remote work contributes to a smaller carbon footprint and supports environmental sustainability efforts.

## Conclusion

Remote work offers numerous benefits that extend beyond individual convenience. As technology continues to advance and workplace cultures evolve, embracing remote work can lead to more satisfied employees, reduced costs, and a more sustainable future.`,
                
                default: `# {{TOPIC}}: A Comprehensive Guide

{{TOPIC}} is an important subject that deserves careful consideration and understanding. In this comprehensive guide, we'll explore the key aspects and benefits of {{TOPIC}}.

## Introduction

Understanding {{TOPIC}} is crucial in today's rapidly evolving world. Whether you're a beginner or looking to deepen your knowledge, this guide will provide valuable insights.

## Key Benefits

The advantages of {{TOPIC}} include:
- Enhanced efficiency and productivity
- Improved outcomes and results
- Better resource utilization
- Increased satisfaction and engagement

## Best Practices

To make the most of {{TOPIC}}, consider these proven strategies:
1. Start with clear goals and objectives
2. Implement systematic approaches
3. Monitor progress regularly
4. Adapt based on feedback and results

## Implementation Tips

Successfully implementing {{TOPIC}} requires careful planning and execution. Focus on gradual adoption, stakeholder engagement, and continuous improvement.

## Conclusion

{{TOPIC}} offers significant potential for positive impact when approached thoughtfully. By following best practices and maintaining a commitment to excellence, you can achieve outstanding results.`
            },
            'social-media': {
                default: `🚀 Exciting news about {{TOPIC}}! 

Did you know that {{TOPIC}} can transform the way we approach challenges and create new opportunities? 💡

Here are 3 key insights:
✨ Innovation drives progress
🎯 Focus creates results  
🌟 Persistence leads to success

What's your experience with {{TOPIC}}? Share your thoughts below! 👇

#{{TOPIC_HASH}} #Innovation #Success #Growth #Motivation`
            },
            'email': {
                default: `Subject: Important Update Regarding {{TOPIC}}

Dear [Recipient Name],

I hope this email finds you well. I'm writing to share some important information about {{TOPIC}} that I believe will be valuable to you.

{{TOPIC}} has become increasingly important in our industry, and I wanted to ensure you're aware of the latest developments and opportunities it presents.

Key points to consider:
• Enhanced efficiency and productivity
• Improved outcomes for stakeholders
• New opportunities for growth and innovation
• Better resource allocation and management

I'd be happy to discuss this further at your convenience. Please feel free to reach out if you have any questions or would like to schedule a call.

Best regards,
[Your Name]
[Your Title]
[Contact Information]`
            },
            'product-description': {
                default: `Discover the Power of {{TOPIC}}

Transform your experience with our premium {{TOPIC}} solution, designed to exceed your expectations and deliver exceptional results.

🌟 Key Features:
• Premium quality construction and materials
• User-friendly design for maximum convenience
• Advanced technology for superior performance
• Comprehensive warranty and support

💡 Benefits:
• Save time and increase efficiency
• Enjoy reliable, consistent results
• Experience enhanced satisfaction
• Get excellent value for your investment

Perfect for professionals and enthusiasts alike, this {{TOPIC}} solution combines innovation with practicality to deliver an outstanding experience.

Order now and discover why thousands of customers trust our {{TOPIC}} products for their most important needs.

⭐ Customer Satisfaction Guaranteed ⭐`
            },
            'ad-copy': {
                default: `🎯 Ready to Transform Your {{TOPIC}} Experience?

Stop settling for ordinary results! Our revolutionary {{TOPIC}} solution delivers the exceptional performance you deserve.

✅ Proven Results
✅ Easy to Use  
✅ Expert Support
✅ Money-Back Guarantee

Join thousands of satisfied customers who have already discovered the difference our {{TOPIC}} solution makes.

🚀 Limited Time Offer - Act Now!

Don't miss out on this exclusive opportunity to upgrade your {{TOPIC}} experience. 

Click below to get started today!

[GET STARTED NOW] 

*Offer expires soon. Terms and conditions apply.`
            },
            'creative-writing': {
                default: `The Journey of {{TOPIC}}

In a world where possibilities seemed endless, {{TOPIC}} emerged as a beacon of hope and transformation. It was neither the beginning nor the end, but rather a pivotal moment that would change everything.

The morning sun cast long shadows across the landscape as Sarah first encountered {{TOPIC}}. She had been searching for something—though she couldn't quite name what it was until this moment. There was something magical about the way {{TOPIC}} seemed to call to her, promising adventures she had only dreamed of.

"This changes everything," she whispered to herself, feeling a mixture of excitement and trepidation. The path ahead was uncertain, but for the first time in years, Sarah felt truly alive.

As days turned into weeks, {{TOPIC}} revealed its secrets slowly, like pages of an ancient book written in a language she was only beginning to understand. Each revelation brought new challenges, but also new opportunities for growth and discovery.

The journey with {{TOPIC}} taught Sarah that transformation rarely comes easily, but it always comes to those brave enough to embrace the unknown. And in that embrace, she found not just answers, but the courage to ask better questions.

In the end, {{TOPIC}} was more than just a destination—it was a journey of becoming who she was meant to be all along.`
            }
        };

        // ============================================
        // TOOL SELECTION FUNCTIONALITY
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            const toolCards = document.querySelectorAll('.tool-card');
            const contentTypeSelect = document.getElementById('contentType');
            const generatorSection = document.getElementById('generator');

            toolCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Remove active class from all cards
                    toolCards.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked card
                    this.classList.add('active');
                    
                    // Get selected tool
                    currentTool = this.getAttribute('data-tool');
                    
                    // Update form
                    contentTypeSelect.value = currentTool;
                    
                    // Scroll to generator
                    generatorSection.scrollIntoView({ behavior: 'smooth' });
                    
                    // Update form placeholders based on tool
                    updateFormPlaceholders(currentTool);
                });
            });

            // Handle form submission
            document.getElementById('contentForm').addEventListener('submit', handleFormSubmission);
        });

        // ============================================
        // UPDATE FORM PLACEHOLDERS
        // ============================================
        function updateFormPlaceholders(tool) {
            const topicInput = document.getElementById('topic');
            const additionalInfo = document.getElementById('additionalInfo');
            
            const placeholders = {
                'blog-post': {
                    topic: 'e.g., "The Benefits of Remote Work"',
                    additional: 'Target keywords, target audience, specific points to cover...'
                },
                'social-media': {
                    topic: 'e.g., "Product launch announcement"',
                    additional: 'Platform (Instagram, Twitter, LinkedIn), hashtags, mentions...'
                },
                'email': {
                    topic: 'e.g., "Newsletter signup confirmation"',
                    additional: 'Email type (welcome, promotional, follow-up), audience details...'
                },
                'product-description': {
                    topic: 'e.g., "Wireless Bluetooth Headphones"',
                    additional: 'Product features, benefits, target audience, price range...'
                },
                'ad-copy': {
                    topic: 'e.g., "Fitness App Advertisement"',
                    additional: 'Platform, target audience, call-to-action, budget considerations...'
                },
                'creative-writing': {
                    topic: 'e.g., "A story about time travel"',
                    additional: 'Genre, style, characters, setting, specific elements to include...'
                }
            };

            if (placeholders[tool]) {
                topicInput.placeholder = placeholders[tool].topic;
                additionalInfo.placeholder = placeholders[tool].additional;
            }
        }

        // ============================================
        // FORM SUBMISSION HANDLER
        // ============================================
        async function handleFormSubmission(e) {
            e.preventDefault();
            
            const contentType = document.getElementById('contentType').value;
            const topic = document.getElementById('topic').value.trim();
            const tone = document.getElementById('tone').value;
            const length = document.getElementById('length').value;
            const additionalInfo = document.getElementById('additionalInfo').value.trim();

            // Store form data for regeneration
            lastFormData = { contentType, topic, tone, length, additionalInfo };

            // Validate form
            if (!contentType || !topic) {
                showError('Please fill in all required fields.');
                return;
            }

            // Show loading state
            setLoadingState(true);
            hideError();

            try {
                let content;
                
                // Check if we have a real API key
                if (GEMINI_API_KEY && GEMINI_API_KEY !== 'YOUR_GEMINI_API_KEY_HERE') {
                    // Try real API call
                    try {
                        content = await generateContentWithAPI(contentType, topic, tone, length, additionalInfo);
                    } catch (apiError) {
                        console.warn('API call failed, using demo content:', apiError);
                        content = generateDemoContent(contentType, topic, tone, length, additionalInfo);
                    }
                } else {
                    // Use demo content
                    content = generateDemoContent(contentType, topic, tone, length, additionalInfo);
                }
                
                displayResults(content);
            } catch (error) {
                console.error('Error generating content:', error);
                showError('Failed to generate content. Please try again.');
            } finally {
                setLoadingState(false);
            }
        }

        // ============================================
        // DEMO CONTENT GENERATOR
        // ============================================
        function generateDemoContent(contentType, topic, tone, length, additionalInfo) {
            return new Promise((resolve) => {
                // Simulate API delay
                setTimeout(() => {
                    let template = demoContent[contentType]?.[topic] || demoContent[contentType]?.default || demoContent['blog-post'].default;
                    
                    // Replace placeholders
                    let content = template
                        .replace(/\{\{TOPIC\}\}/g, topic)
                        .replace(/\{\{TOPIC_HASH\}\}/g, topic.replace(/\s+/g, ''));
                    
                    // Adjust for tone
                    if (tone === 'casual') {
                        content = content.replace(/\. /g, '! ').replace(/However,/g, 'But hey,').replace(/Furthermore,/g, 'Plus,');
                    } else if (tone === 'formal') {
                        content = content.replace(/!/g, '.').replace(/But hey,/g, 'However,');
                    }
                    
                    // Adjust for length
                    if (length === 'short') {
                        // Truncate to approximately 150-200 words
                        const sentences = content.split('. ');
                        content = sentences.slice(0, Math.max(3, Math.floor(sentences.length / 3))).join('. ') + '.';
                    } else if (length === 'long') {
                        // Add additional content for longer pieces
                        content += `\n\nAdditional Considerations:\n\nWhen exploring ${topic} further, it's important to consider the broader implications and long-term benefits. This comprehensive approach ensures that all stakeholders understand the value and potential impact.\n\nImplementation strategies should focus on sustainable practices and measurable outcomes. By maintaining this focus, organizations can maximize the benefits while minimizing potential challenges.`;
                    }
                    
                    if (additionalInfo) {
                        content += `\n\nNote: This content has been customized based on your specific requirements: ${additionalInfo}`;
                    }
                    
                    resolve(content);
                }, 1500); // Simulate realistic API delay
            });
        }

        // ============================================
        // REAL GEMINI API INTEGRATION
        // ============================================
        async function generateContentWithAPI(contentType, topic, tone, length, additionalInfo) {
            const prompt = buildPrompt(contentType, topic, tone, length, additionalInfo);
            
            const requestBody = {
                contents: [{
                    parts: [{
                        text: prompt
                    }]
                }],
                generationConfig: {
                    temperature: 0.7,
                    topK: 40,
                    topP: 0.95,
                    maxOutputTokens: getMaxTokens(length),
                },
                safetySettings: [
                    {
                        category: "HARM_CATEGORY_HARASSMENT",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    },
                    {
                        category: "HARM_CATEGORY_HATE_SPEECH",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    },
                    {
                        category: "HARM_CATEGORY_SEXUALLY_EXPLICIT",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    },
                    {
                        category: "HARM_CATEGORY_DANGEROUS_CONTENT",
                        threshold: "BLOCK_MEDIUM_AND_ABOVE"
                    }
                ]
            };

            const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(requestBody)
            });

            if (!response.ok) {
                const errorText = await response.text();
                let errorMessage = 'API request failed';
                
                try {
                    const errorData = JSON.parse(errorText);
                    errorMessage = errorData.error?.message || errorMessage;
                } catch (e) {
                    errorMessage = `HTTP ${response.status}: ${response.statusText}`;
                }
                
                throw new Error(errorMessage);
            }

            const data = await response.json();
            
            if (!data.candidates || data.candidates.length === 0) {
                throw new Error('No content generated by API');
            }
            
            const candidate = data.candidates[0];
            
            if (candidate.finishReason === 'SAFETY') {
                throw new Error('Content was blocked by safety filters. Please try a different topic or approach.');
            }
            
            if (!candidate.content?.parts?.[0]?.text) {
                throw new Error('Empty response from API');
            }

            return candidate.content.parts[0].text;
        }

        // ============================================
        // PROMPT BUILDING
        // ============================================
        function buildPrompt(contentType, topic, tone, length, additionalInfo) {
            const lengthMap = {
                'short': '100-200 words',
                'medium': '300-500 words',
                'long': '600-1000 words'
            };

            const contentTypeInstructions = {
                'blog-post': 'Write a complete blog post with an engaging title, introduction, main content with subheadings, and conclusion. Make it SEO-friendly and informative.',
                'social-media': 'Create an engaging social media post with appropriate hashtags and emojis. Make it shareable and attention-grabbing.',
                'email': 'Write a professional email with subject line, greeting, body content, and appropriate closing. Make it clear and actionable.',
                'product-description': 'Create a compelling product description highlighting key features, benefits, and value proposition. Focus on what makes it special.',
                'ad-copy': 'Write persuasive advertising copy with a strong call-to-action. Make it compelling and conversion-focused.',
                'creative-writing': 'Write creative content with vivid descriptions, engaging narrative, and compelling storytelling. Be imaginative and original.'
            };

            let prompt = `${contentTypeInstructions[contentType] || 'Write high-quality content'}

Topic: ${topic}
Tone: ${tone}
Length: ${lengthMap[length]}
Content Type: ${contentType.replace('-', ' ')}`;

            if (additionalInfo) {
                prompt += `\nAdditional Requirements: ${additionalInfo}`;
            }

            prompt += `\n\nPlease create engaging, well-structured content that is informative, original, and tailored to the specified requirements. Ensure the content is ready to use and professionally written. Do not include any meta-commentary about the content creation process.`;

            return prompt;
        }

        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        function getMaxTokens(length) {
            const tokenMap = {
                'short': 400,
                'medium': 800,
                'long': 1500
            };
            return tokenMap[length] || 800;
        }

        function setLoadingState(isLoading) {
            const button = document.querySelector('.generate-button');
            const spinner = document.querySelector('.loading-spinner');
            const buttonText = document.querySelector('.button-text');
            
            if (isLoading) {
                button.disabled = true;
                spinner.style.display = 'inline-block';
                buttonText.textContent = 'Generating...';
            } else {
                button.disabled = false;
                spinner.style.display = 'none';
                buttonText.textContent = 'Generate Content';
            }
        }

        function displayResults(content) {
            const resultsSection = document.getElementById('results');
            const generatedContent = document.getElementById('generatedContent');
            
            lastGeneratedContent = content;
            generatedContent.textContent = content;
            
            resultsSection.style.display = 'block';
            resultsSection.classList.add('fade-in-up');
            
            // Scroll to results
            setTimeout(() => {
                resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }

        function hideError() {
            const errorElement = document.getElementById('errorMessage');
            errorElement.style.display = 'none';
        }

        // ============================================
        // RESULT ACTIONS
        // ============================================
        async function copyToClipboard() {
            if (!lastGeneratedContent) return;
            
            try {
                await navigator.clipboard.writeText(lastGeneratedContent);
                // Visual feedback
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '✅ Copied!';
                button.style.background = 'rgba(40, 167, 69, 0.2)';
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            } catch (err) {
                console.error('Failed to copy: ', err);
                // Fallback for older browsers
                try {
                    const textArea = document.createElement('textarea');
                    textArea.value = lastGeneratedContent;
                    textArea.style.position = 'fixed';
                    textArea.style.opacity = '0';
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    const button = event.target;
                    const originalText = button.textContent;
                    button.textContent = '✅ Copied!';
                    setTimeout(() => {
                        button.textContent = originalText;
                    }, 2000);
                } catch (fallbackErr) {
                    showError('Failed to copy content. Please select and copy manually.');
                }
            }
        }

        function downloadContent() {
            if (!lastGeneratedContent) return;
            
            try {
                const blob = new Blob([lastGeneratedContent], { type: 'text/plain;charset=utf-8' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                
                // Generate filename based on topic and content type
                const topic = lastFormData.topic || 'content';
                const contentType = lastFormData.contentType || 'text';
                const timestamp = new Date().toISOString().slice(0, 10);
                a.download = `${contentType}-${topic.replace(/[^a-z0-9]/gi, '-').toLowerCase()}-${timestamp}.txt`;
                
                document.body.appendChild(a);
                a.click();
                window.URL.revokeObjectURL(url);
                document.body.removeChild(a);
                
                // Visual feedback
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = '✅ Downloaded!';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
            } catch (error) {
                console.error('Download failed:', error);
                showError('Failed to download content. Please try again.');
            }
        }

        async function regenerateContent() {
            if (!lastFormData.topic) {
                showError('No previous content to regenerate.');
                return;
            }
            
            setLoadingState(true);
            hideError();
            
            try {
                let content;
                
                if (GEMINI_API_KEY && GEMINI_API_KEY !== 'YOUR_GEMINI_API_KEY_HERE') {
                    try {
                        content = await generateContentWithAPI(
                            lastFormData.contentType,
                            lastFormData.topic,
                            lastFormData.tone,
                            lastFormData.length,
                            lastFormData.additionalInfo
                        );
                    } catch (apiError) {
                        console.warn('API regeneration failed, using demo content:', apiError);
                        content = generateDemoContent(
                            lastFormData.contentType,
                            lastFormData.topic,
                            lastFormData.tone,
                            lastFormData.length,
                            lastFormData.additionalInfo
                        );
                    }
                } else {
                    content = generateDemoContent(
                        lastFormData.contentType,
                        lastFormData.topic,
                        lastFormData.tone,
                        lastFormData.length,
                        lastFormData.additionalInfo
                    );
                }
                
                displayResults(content);
            } catch (error) {
                console.error('Error regenerating content:', error);
                showError('Failed to regenerate content. Please try again.');
            } finally {
                setLoadingState(false);
            }
        }

        // ============================================
        // SMOOTH SCROLLING FOR NAVIGATION
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });
    </script>
</body>
</html>